<!DOCTYPE html>
<html>

<head>

    <meta charset="utf-8">
    <link rel="stylesheet" type="text/css" href="./assets/css/reset.css">
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css" integrity="sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO"
        crossorigin="anonymous">
    <link rel="stylesheet" href="./assets/css/style.css">
    <title>Crystal Game</title>

</head>

<body>

    <h1> Crystal Game</h1>
    <div class="container">
        <div class="row">
            <div class="col-md-4">
                <h2>Number to Guess</h2>
                <p> </p>
                <h3 id="number-to-guess"></h3>
            </div>
            <br>
            <div class="col-md-4">
                <h2>Score Tally</h2>
                <h3>Wins:</h3>
                <div id="wins"></div>
                <h3>Losses:</h3>
                <div id="losses"></div>
            </div>
            <div class="col-md-4">
                <p></p>
            </div>


        </div>

        <div class="row">
            <img class="crystals" id="amber" src="./assets/images/amber.png">
            <img class="crystals" id="ruby" src="./assets/images/ruby.png">
            <img class="crystals" id="sapphire" src="./assets/images/sapphire.png">
            <img class="crystals" id="emerald" src="./assets/images/emerald.png">
        </div>

        <div class="row">
            <h2>Tally</h2>
            <div id="showTally"></div>
        </div>

    </div>


    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>

    <script type="text/javascript">
        $(document).ready(function () {

            //VARIABLES//
            var userTally = 0 //Sum of the numbers users guess
            var wins = 0 //Total user wins
            var losses = 0 //Total user losses  

            //RANDOM NUMBER
            //Computer will generate a random number between 9 -120 and display on the page
            var target = Math.floor((Math.random() * 120) + 9);
            alert(target);
            $("#number-to-guess").text(target)

            //CRYSTAL NUMBERS
            //Four random numbers between 1 -12 will be randomly generated and assigned to 4 crystals on the page
            //Amber number generator
            var amberNumber = Math.floor((Math.random() * 12) + 1);
            alert(amberNumber);
            $("#amber").text(amberNumber)

            //Ruby number generator
            var rubyNumber = Math.floor((Math.random() * 12) + 1);
            alert(rubyNumber);
            $("#ruby").text(rubyNumber)

            //Sapphire number generator
            var sapphireNumber = Math.floor((Math.random() * 12) + 1);
            alert(sapphireNumber);
            $("#sapphire").text(sapphireNumber)

            //Emerald number generator
            var emeraldNumber = Math.floor((Math.random() * 12) + 1);
            $("#sapphire").text(emeraldNumber)

            //DIRECTIONS
            //When the score equals the random number, add one to win

            // function winOrLose() {
            //     if (userTally == target) { 
            //         win++ //adds one to win
            //         alert ("Score! You win!")
            //         $("#wins").text(win)
            //         reload //restart game
            //     }

            //     //If the score goes over the random number, add one to loss
            //     else if (userTally > target) {
            //         loss++
            //         alert ("Bummer! You lose!")
            //         $("#losses").text(loss)
            //         reload //restart game
            //     }
            // }

            //Reload page when the score = random number or the score > random number (maybe need a while function?)
            function reload() {
                userTally = 0
                wins = 0
                losses = 0
                amberNumber = ''
                rubyNumber = ''
                sapphireNumber = ''
                emeraldNumber = ''
            }

            //CLICKS//
            //When the player clicks a crystal the number associated with it will be added to a score
            //Each click will add the number to the userTally

            //Amber
            $("#amber").on("click", function () {
                userTally = userTally + amberNumber //adds the amber number to the userTally
                // userTally.push (amberNumber)
                console.log(userTally)
                $("#showTally").text(userTally) //shows it in the Tally area
                // winOrLose //win or lose function
                //test to see if the score is equal to target - add one to win and reload
                if (userTally == target) { 
                    win++ //adds one to win
                    alert ("Score! You win!")
                    $("#wins").text(win)
                    reload //restart game
                }

                //If the score goes over the random number, add one to loss and reload
                else if (userTally > target) {
                    loss++
                    alert ("Bummer! You lose!")
                    $("#losses").text(loss)
                    reload //restart game
                }
            })

            //Ruby
            $("#ruby").on("click", function () {
                userTally = userTally + rubyNumber //adds the amber number to the userTally
                console.log(userTally)
                $("#showTally").text(userTally) //shows it in the Tally area
                winOrLose //win or lose function
                //test to see if the score is equal to target - add one to win and reload
                if (userTally == target) { 
                    win++ //adds one to win
                    alert ("Score! You win!")
                    $("#wins").text(win)
                    reload //restart game
                }

                //If the score goes over the random number, add one to loss and reload
                else if (userTally > target) {
                    loss++
                    alert ("Bummer! You lose!")
                    $("#losses").text(loss)
                    reload //restart game
                }
            })

            //Sapphire
            $("#sapphire").on("click", function () {
                userTally = userTally + sapphireNumber //adds the amber number to the userTally
                console.log(userTally)
                $("#showTally").text(userTally) //shows it in the Tally area
                winOrLose //win or lose function
                //test to see if the score is equal to target - add one to win and reload
                if (userTally == target) { 
                    win++ //adds one to win
                    alert ("Score! You win!")
                    $("#wins").text(win)
                    reload //restart game
                }

                //If the score goes over the random number, add one to loss and reload
                else if (userTally > target) {
                    loss++
                    alert ("Bummer! You lose!")
                    $("#losses").text(loss)
                    reload //restart game
                }
            })

            //Emerald
            $("#emerald").on("click", function () {
                userTally = userTally + emeraldNumber //adds the amber number to the userTally
                console.log(userTally)
                $("#showTally").text(userTally) //shows it in the Tally area
                winOrLose //win or lose function
                //test to see if the score is equal to target - add one to win and reload
                if (userTally == target) { 
                    win++ //adds one to win
                    alert ("Score! You win!")
                    $("#wins").text(win)
                    reload //restart game
                }

                //If the score goes over the random number, add one to loss and reload
                else if (userTally > target) {
                    loss++
                    alert ("Bummer! You lose!")
                    $("#losses").text(loss)
                    reload //restart game
                }
            })
        })

    </script>
</body>